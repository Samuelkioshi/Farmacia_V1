<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Editar Produto</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            color: #333;
        }
        header {
            background-color: #2196F3;
            color: white;
            text-align: center;
            padding: 1em 0;
        }
        header, footer {
            background-color: #2196F3;
            color: white;
            text-align: center;
            padding: 1em 0;
        }
        main {
            padding: 2em;
        }
        form {
            max-width: 700px;
            margin: 0 auto;
            display: flex;
            flex-wrap: wrap;
            gap: 1em; 
        }
        .form-group {
            display: flex;
            flex-direction: column;
            flex: 1 1 calc(50% - 1em);
        }
        .form-group-full {
            flex: 1 1 100%; 
        }
        label {
            font-weight: bold;
            margin-bottom: 0.5em;
        }
        input, select, button, textarea {
            width: 100%;
            margin: 0;
            padding: 0.5em;
            font-size: 1em;
            box-sizing: border-box;
        }
        textarea {
            resize: none;
            overflow: hidden;
            min-height: 50px;
        }
        button {
            background-color: #2196F3;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #1E88E5;
        }
        .back-button {
            background-color: #2196F3;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-bottom: 1em;
        }
        .back-button:hover {
            background-color: #1E88E5;
        }
    </style>
</head>
<body>

<header>
    <h1>Editar Produto</h1>
</header>

<main>
    <button class="back-button" onclick="window.history.back()">Voltar</button>
    
    <form action="{{ url_for('editar_produto', id_prod=produto.ID_PROD) }}" method="post">
        <div class="form-group">
            <label for="nome_prod">Nome do produto:</label>
            <input type="text" id="nome_prod" name="nome_prod" value="{{ produto.NOME_PROD }}" required placeholder="Nome do Produto">
        </div>
        <div class="form-group">
            <label for="fabricante">Fabricante:</label>
            <input type="text" id="fabricante" name="fabricante" value="{{ produto.FABRICANTE }}" required placeholder="Fabricante">
        </div>
        <div class="form-group">
            <label for="dt_validade">Data de vencimento:</label>
            <input type="date" name="dt_validade" value="{{ produto.DT_VALIDADE }}" required>
        </div>
        <div class="form-group">
            <label for="qntd_estoque">Quantidade:</label>
            <input type="number" name="qntd_estoque" value="{{ produto.QNTD_ESTOQUE }}" required placeholder="Quantidade em Estoque">
        </div>
        <div class="form-group">
            <label for="valor">Valor:</label>
            <input type="number" step="0.01" name="valor" value="{{ produto.VALOR }}" required placeholder="Valor do Produto">
        </div>
        <div class="form-group">
            <label for="secao">Seção:</label>
            <select name="secao" required>
                <option value="Medicamentos" {% if produto.SECAO == 'Medicamentos' %}selected{% endif %}>Medicamentos</option>
                <option value="Beleza" {% if produto.SECAO == 'Beleza' %}selected{% endif %}>Beleza</option>
                <option value="Vitaminas e Suplementos" {% if produto.SECAO == 'Vitaminas e Suplementos' %}selected{% endif %}>Vitaminas e Suplementos</option>
                <option value="Cuidados pessoais" {% if produto.SECAO == 'Cuidados pessoais' %}selected{% endif %}>Cuidados pessoais</option>
                <option value="Dermocosméticos" {% if produto.SECAO == 'Dermocosméticos' %}selected{% endif %}>Dermocosméticos</option>
                <option value="Promoções" {% if produto.SECAO == 'Promoções' %}selected{% endif %}>Promoções</option>
            </select>
        </div>
        <div class="form-group-full">
            <label for="descricao">Descrição:</label>
            <textarea id="descricao" name="descricao" required placeholder="Descrição do Produto">{{ produto.DESCRICAO }}</textarea>
        </div>
        <div class="form-group-full">
            <button type="submit">Atualizar Produto</button>
        </div>
    </form>
</main>

<footer>
    <p>&copy; 2024 Farmácia Impacta Saúde. Todos os direitos reservados.</p>
    <p>Contato: contato@farmaciaimpactasaude.com.br | Telefone: (11) 1234-5678</p>
</footer>

<script>
    // Ajusta dinamicamente a altura do textarea
    function ajustarTamanhoTextarea(textarea) {
        textarea.style.height = 'auto'; // Reseta a altura
        textarea.style.height = textarea.scrollHeight + 'px'; // Ajusta conforme o conteúdo
    }

    // Aplica o ajuste no campo de descrição
    const descricaoTextarea = document.getElementById('descricao');
    ajustarTamanhoTextarea(descricaoTextarea); // Ajusta altura inicial
    descricaoTextarea.addEventListener('input', () => ajustarTamanhoTextarea(descricaoTextarea)); // Ajusta ao digitar
</script>

</body>
</html>
